# DiscordJavascriptMalwareDeobfuscation
My attempt at de-obfuscating a javascript malware sent to my friend over hacked discord account.

The original file was called asd.exe. It's just node.js probably packed with nexe into a single executable. 
The malware contains a "crypter" used to encode a list of strings that are then decoded into words that are used to build additional functions and variables.

Malware was reported on VirusTotal in two forms:
- raw exe: https://www.virustotal.com/gui/file/6e32308c58c3790b7ba407471ff9837e32838d66117ae44a22a94803914ebca3
- rar file: https://www.virustotal.com/gui/file/cde66b17dd50cbcdc443639b063b31e9db1236e6151f91ba64be13d7b092ecc4/detection
Both these files were sent by the "hacker" to me from my friends hacked account.

##Findings so far
- A function that returns a list of encoded strings, called it `encoded_strings_and_functions()`
- A `decoder_function` that takes 2 parameters which are then used to chose the encoded string, that converts the strings (with magic I have yet to understand) into url encoded strings. Those are then decoded into regular strings. This function is called a lot throuout the code to build more functions, variables. 
- There are clearly visible functions that steal cookies, passwords, discord token and a function called pwnBetterDiscord.
- At the end of there is visible variable that builds what seems like http request that exports the data.


This is just my personal effort I do in my free time to develop code analysis skills.
I have no background in javascript, only real basics.

Feel free to add notes, open issues, branches if you are better at this
